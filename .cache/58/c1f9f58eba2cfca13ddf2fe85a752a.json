{"id":"AxoZ","dependencies":[{"name":"C:\\Users\\wrigh\\Desktop\\Projects\\ukvisasponsorship\\package.json","includedInParent":true,"mtime":1764337835993},{"name":"axios","loc":{"line":1,"column":18,"index":18},"parent":"C:\\Users\\wrigh\\Desktop\\Projects\\ukvisasponsorship\\public\\js\\auth.js","resolved":"C:\\Users\\wrigh\\Desktop\\Projects\\ukvisasponsorship\\node_modules\\axios\\index.js"},{"name":"./alerts","loc":{"line":2,"column":26,"index":54},"parent":"C:\\Users\\wrigh\\Desktop\\Projects\\ukvisasponsorship\\public\\js\\auth.js","resolved":"C:\\Users\\wrigh\\Desktop\\Projects\\ukvisasponsorship\\public\\js\\alerts.js"}],"generated":{"js":"\"use strict\";var e=r(require(\"axios\")),t=require(\"./alerts\");function r(e){return e&&e.__esModule?e:{default:e}}function n(){var e,t,r=\"function\"==typeof Symbol?Symbol:{},a=r.iterator||\"@@iterator\",o=r.toStringTag||\"@@toStringTag\";function u(r,n,a,o){var u=n&&n.prototype instanceof i?n:i,l=Object.create(u.prototype);return s(l,\"_invoke\",function(r,n,s){var a,o,u,i=0,l=s||[],p=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return a=t,o=0,u=e,d.n=r,c}};function f(r,n){for(o=r,u=n,t=0;!p&&i&&!s&&t<l.length;t++){var s,a=l[t],f=d.p,m=a[2];r>3?(s=m===n)&&(u=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=f&&((s=r<2&&f<a[1])?(o=0,d.v=n,d.n=a[1]):f<m&&(s=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,d.n=m,o=0))}if(s||r>1)return c;throw p=!0,n}return function(s,l,m){if(i>1)throw TypeError(\"Generator is already running\");for(p&&1===l&&f(l,m),o=l,u=m;(t=o<2?e:u)||!p;){a||(o?o<3?(o>1&&(d.n=-1),f(o,u)):d.n=u:d.v=u);try{if(i=2,a){if(o||(s=\"next\"),t=a[s]){if(!(t=t.call(a,u)))throw TypeError(\"iterator result is not an object\");if(!t.done)return t;u=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(u=TypeError(\"The iterator does not provide a '\"+s+\"' method\"),o=1);a=e}else if((t=(p=d.n<0)?u:r.call(n,d))!==c)break}catch(t){a=e,o=1,u=t}finally{i=1}}return{value:t,done:p}}}(r,a,o),!0),l}var c={};function i(){}function l(){}function p(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(s(t={},a,function(){return this}),t),f=p.prototype=i.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,\"GeneratorFunction\")),e.prototype=Object.create(f),e}return l.prototype=p,s(f,\"constructor\",p),s(p,\"constructor\",l),l.displayName=\"GeneratorFunction\",s(p,o,\"GeneratorFunction\"),s(f),s(f,o,\"Generator\"),s(f,a,function(){return this}),s(f,\"toString\",function(){return\"[object Generator]\"}),(n=function(){return{w:u,m:m}})()}function s(e,t,r,n){var a=Object.defineProperty;try{a({},\"\",{})}catch(e){a=0}(s=function(e,t,r,n){function o(t,r){s(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o(\"next\",0),o(\"throw\",1),o(\"return\",2))})(e,t,r,n)}function a(e,t,r,n,s,a,o){try{var u=e[a](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,s)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var o=e.apply(t,r);function u(e){a(o,n,s,u,c,\"next\",e)}function c(e){a(o,n,s,u,c,\"throw\",e)}u(void 0)})}}exports.signupEmployer=function(){var r=o(n().m(function r(s){var a,o;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"POST\",url:\"/api/v1/users/employersignup\",data:s});case 1:\"success\"===r.v.data.status&&((0,t.showAlert)(\"success\",\"Account created! Please check your email to verify.\"),(a=document.querySelector(\".form--signup-employer\"))&&(a.parentElement.innerHTML='<div class=\"form__group\" style=\"margin: 10rem 0; min-height: 40vh; display: flex; flex-direction: column; justify-content: center;\"><h2 class=\"heading-secondary ma-bt-lg\">Check your email!</h2><p class=\"text-center\" style=\"font-size: 1.6rem;\">We have sent a verification link to your email address. Please close this tab and check your email to activate your account.</p></div>')),r.n=3;break;case 2:r.p=2,o=r.v,(0,t.showAlert)(\"error\",o.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e){return r.apply(this,arguments)}}(),exports.logout=o(n().m(function r(){var s;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"GET\",url:\"/api/v1/users/logout\"});case 1:(r.v.data.status=\"success\")&&location.assign(\"/\"),r.n=3;break;case 2:r.p=2,s=r.v,console.log(s.response),(0,t.showAlert)(\"error\",\"Error logging out! Try again.\");case 3:return r.a(2)}},r,null,[[0,2]])})),exports.login=function(){var r=o(n().m(function r(s,a){var o;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"POST\",url:\"/api/v1/users/login\",data:{email:s,password:a}});case 1:\"success\"===r.v.data.status&&((0,t.showAlert)(\"success\",\"Logged in successfully!\"),window.setTimeout(function(){location.assign(\"/\")},1500)),r.n=3;break;case 2:r.p=2,o=r.v,(0,t.showAlert)(\"error\",o.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e,t){return r.apply(this,arguments)}}(),exports.signupCandidate=function(){var r=o(n().m(function r(s,a,o,u){var c,i;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"POST\",url:\"/api/v1/users/signup\",data:{name:s,email:a,password:o,passwordConfirm:u}});case 1:\"success\"===r.v.data.status&&((0,t.showAlert)(\"success\",\"Account created! Please check your email to verify.\"),(c=document.querySelector(\".form--signup\"))&&(c.parentElement.innerHTML='<div class=\"form__group\" style=\"margin: 10rem 0; min-height: 40vh; display: flex; flex-direction: column; justify-content: center;\"><h2 class=\"heading-secondary ma-bt-lg\">Check your email!</h2><p class=\"text-center\" style=\"font-size: 1.6rem;\">We have sent a verification link to your email address. Please close this tab and check your email to activate your account.</p></div>')),r.n=3;break;case 2:r.p=2,i=r.v,(0,t.showAlert)(\"error\",i.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e,t,n,s){return r.apply(this,arguments)}}(),exports.updateSettings=function(){var r=o(n().m(function r(s,a){var o,u,c,i;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,o=\"password\"===a?\"/api/v1/users/updatePassword\":\"/api/v1/users/updateMe\",r.n=1,(0,e.default)({method:\"PATCH\",url:o,data:s});case 1:if(\"success\"!==(u=r.v).data.status){r.n=2;break}return c=a.charAt(0).toUpperCase()+a.slice(1),(0,t.showAlert)(\"success\",\"\".concat(c,\" updated successfully!\")),\"password\"===a&&(document.getElementById(\"password-current\").value=\"\",document.getElementById(\"password\").value=\"\",document.getElementById(\"password-confirm\").value=\"\",document.querySelector(\".btn--save-password\").textContent=\"Save password\"),r.a(2,u.data);case 2:r.n=4;break;case 3:r.p=3,i=r.v,(0,t.showAlert)(\"error\",i.response.data.message);case 4:return r.a(2)}},r,null,[[0,3]])}));return function(e,t){return r.apply(this,arguments)}}(),exports.deleteCv=o(n().m(function r(){var s;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"DELETE\",url:\"/api/v1/users/deleteCv\"});case 1:if(\"success\"!==r.v.data.status){r.n=2;break}return(0,t.showAlert)(\"success\",\"CV deleted successfully!\"),r.a(2,!0);case 2:r.n=4;break;case 3:r.p=3,s=r.v,(0,t.showAlert)(\"error\",s.response.data.message);case 4:return r.a(2)}},r,null,[[0,3]])})),exports.deleteAccount=o(n().m(function r(){return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"DELETE\",url:\"/api/v1/users/deleteMe\"});case 1:204===r.v.status&&((0,t.showAlert)(\"success\",\"Account deleted successfully! Redirecting...\"),window.setTimeout(function(){location.assign(\"/\")},1500)),r.n=3;break;case 2:r.p=2,r.v,(0,t.showAlert)(\"error\",\"Error deleting account! Try again.\");case 3:return r.a(2)}},r,null,[[0,2]])})),exports.forgotPassword=function(){var r=o(n().m(function r(s){var a;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"POST\",url:\"/api/v1/users/forgotPassword\",data:{email:s}});case 1:\"success\"===r.v.data.status&&(0,t.showAlert)(\"success\",\"Token sent to email!\"),r.n=3;break;case 2:r.p=2,a=r.v,(0,t.showAlert)(\"error\",a.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e){return r.apply(this,arguments)}}(),exports.resetPassword=function(){var r=o(n().m(function r(s,a,o){var u,c;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,console.log(\"Sending reset password request...\"),r.n=1,(0,e.default)({method:\"PATCH\",url:\"/api/v1/users/resetPassword/\".concat(s),data:{password:a,passwordConfirm:o}});case 1:u=r.v,console.log(\"Reset password response:\",u),\"success\"===u.data.status&&((0,t.showAlert)(\"success\",\"Password reset successfully!\"),window.setTimeout(function(){location.assign(\"/\")},1500)),r.n=3;break;case 2:r.p=2,c=r.v,console.error(\"Reset password error:\",c),(0,t.showAlert)(\"error\",c.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e,t,n){return r.apply(this,arguments)}}(),exports.claimAccount=function(){var r=o(n().m(function r(s,a,o){var u;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"PATCH\",url:\"/api/v1/users/claimAccount/\".concat(s),data:{password:a,passwordConfirm:o}});case 1:\"success\"===r.v.data.status&&((0,t.showAlert)(\"success\",\"Account activated successfully!\"),window.setTimeout(function(){location.assign(\"/employer-dashboard\")},1500)),r.n=3;break;case 2:r.p=2,u=r.v,(0,t.showAlert)(\"error\",u.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e,t,n){return r.apply(this,arguments)}}(),exports.resendVerification=function(){var r=o(n().m(function r(s){var a,o;return n().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,(0,e.default)({method:\"POST\",url:\"/api/v1/users/resendVerification\",data:{email:s}});case 1:\"success\"===r.v.data.status&&((0,t.showAlert)(\"success\",\"Verification email sent! Please check your inbox.\"),(a=document.getElementById(\"resendBtn\"))&&(a.textContent=\"Email Sent!\",a.disabled=!0)),r.n=3;break;case 2:r.p=2,o=r.v,(0,t.showAlert)(\"error\",o.response.data.message);case 3:return r.a(2)}},r,null,[[0,2]])}));return function(e){return r.apply(this,arguments)}}();"},"sourceMaps":null,"error":null,"hash":"5fc661fbdfb8f539f405d7873266929b","cacheData":{"env":{}}}